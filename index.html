<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fran & Rom - Tu Agencia de Viajes Confiable</title>
    <meta name="description" content="Fran & Rom - Tu agencia de viajes confiable. Viajes a San Clemente, Las Toninas, Mar del Tuyú y más. ¡Reserva tu próximo viaje!">
    <meta name="keywords" content="viajes, turismo, agencia de viajes, vacaciones, playa, destinos, Fran & Rom">
    <meta name="author" content="Fran & Rom">
    <meta property="og:title" content="Fran & Rom - Tu agencia de viajes">
    <meta property="og:description" content="Viajes inolvidables a los mejores destinos">
    <meta property="og:image" content="Imagenes/Logo con fondo.jpeg">
    
    <!-- Fuentes de Google -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Montserrat:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Font Awesome para íconos -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="Imagenes/Logo.jpeg">
    <link rel="apple-touch-icon" href="Imagenes/Logo.jpeg">
    
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <header class="encabezado">
        <div class="container">
            <img src="Imagenes/Logo.jpeg" class="logo" alt="Logo Fran & Rom">
            
            <nav class="menu">
                <a href="#inicio" class="nav-link">
                    <i class="fas fa-home"></i>
                    <span>Inicio</span>
                </a>

                <a href="#servicios" class="nav-link">
                    <i class="fas fa-concierge-bell"></i>
                    <span>Servicios</span>
                </a>

                <a href="#comentarios" class="nav-link">
                    <i class="fas fa-comments"></i>
                    <span>Opiniones</span>
                </a>

                <a href="#contacto" class="nav-link">
                    <i class="fas fa-address-book"></i>
                    <span>Contacto</span>
                </a>
            </nav>

            
            <button class="menu-mobile" id="menuMobile">
                <i class="fas fa-bars"></i>
            </button>
        </div>
    </header>

    <main class="contenido-principal">
        <section class="hero">
            <div class="hero-content">
                <h1 class="hero-title">¡Bienvenidos a Tus Viajes!</h1>
                <p class="hero-subtitle">Tu próxima aventura comienza aquí</p>
                <img src="Imagenes/Logo con fondo.jpeg" alt="Fran & Rom Viajes" class="hero-image">
                <a href="#servicios" class="btn-hero">Ver Destinos</a>
            </div>
        </section>

        <div class="cuerpo container">
            <section id="inicio" class="seccion fade-in">
                <div class="seccion-header">
                    <h1 class="seccion-titulo">Inicio</h1>
                    <div class="seccion-linea"></div>
                </div>
                
                <h2 class="subtitulo">¿Quiénes Somos?</h2>
                <p class="texto-descripcion">En <strong>Fran & Rom</strong>, no solo planeamos tu viaje, creamos la experiencia perfecta. Nos apasiona conectar tus sueños con los destinos más increíbles, ocupándonos de cada detalle para que tú solo te preocupes por disfrutar. Confiar en nosotros es elegir tranquilidad, calidad y momentos inolvidables. Tu próxima aventura merece un comienzo excepcional: con nosotros, estás haciendo la mejor elección.</p>
                
                <div class="contenedor-imagenes">
                    <div class="imagen-card">
                        <img class="img-inicio" src="Imagenes/Micro 1.jpeg" alt="Micro de viajes 1">
                        <p class="imagen-desc">Nuestras unidades premium</p>
                    </div>
                    <div class="imagen-card">
                        <img class="img-inicio" src="Imagenes/Micro 2.jpeg" alt="Micro de viajes 2">
                        <p class="imagen-desc">Comodidad y seguridad</p>
                    </div>
                </div>
                
                <div class="paradas-info">
                    <h3 class="paradas-titulo">
                        <i class="fas fa-map-marker-alt"></i>
                        Paradas del Recorrido
                    </h3>
                    <p class="paradas-texto"><strong>Recorrido:</strong> Loma de Zamora - Rotonda Llavallol - Vapor - Alpargatas - Ruta 4 - San Justo - Casanova - La Ferrere - Ruta 3 hasta el KM 38. Hacemos una parada de 20 minutos en Minotauro Parador.</p>
                </div>
            </section>

            <section id="servicios" class="seccion fade-in">
                <div class="seccion-header">
                    <h1 class="seccion-titulo">Servicios</h1>
                    <div class="seccion-linea"></div>
                </div>
                
                <p class="texto-descripcion">Ofrecemos experiencias únicas a los siguientes destinos:</p>

                <div class="contenedor-destinos">
                    <div class="destino-card">
                        <div class="destino-imagen">
                            <img src="Imagenes/San Clemente.jpg" alt="San Clemente">
                            <div class="destino-badge">
                                <i class="fas fa-calendar-alt"></i>
                                3 Fechas Disponibles
                            </div>
                        </div>
                        <div class="destino-contenido">
                            <h3 class="destino-titulo">San Clemente</h3>
                            <p class="destino-descripcion"><strong>Fechas:</strong> 29 Enero al 01 Febrero, 14 Febrero al 18 Febrero, 20 Febrero al 24 Febrero</p>
                            <button class="btn-reservar" data-destino="San Clemente">
                                <i class="fab fa-whatsapp"></i>
                                Reservar este destino
                            </button>
                        </div>
                    </div>

                    <div class="destino-card">
                        <div class="destino-imagen">
                            <img src="Imagenes/Las Toninas.jpg" alt="Las Toninas">
                            <div class="destino-badge">
                                <i class="fas fa-calendar-alt"></i>
                                3 Fechas Disponibles
                            </div>
                        </div>
                        <div class="destino-contenido">
                            <h3 class="destino-titulo">Las Toninas</h3>
                            <p class="destino-descripcion"><strong>Fechas:</strong> 29 Enero al 01 Febrero, 14 Febrero al 18 Febrero, 20 Febrero al 24 Febrero</p>
                            <button class="btn-reservar" data-destino="Las Toninas">
                                <i class="fab fa-whatsapp"></i>
                                Reservar este destino
                            </button>
                        </div>
                    </div>

                    <div class="destino-card">
                        <div class="destino-imagen">
                            <img src="Imagenes/Mar del Tuyu.png" alt="Mar del Tuyú">
                            <div class="destino-badge">
                                <i class="fas fa-calendar-alt"></i>
                                3 Fechas Disponibles
                            </div>
                        </div>
                        <div class="destino-contenido">
                            <h3 class="destino-titulo">Mar del Tuyú</h3>
                            <p class="destino-descripcion"><strong>Fechas:</strong> 29 Enero al 01 Febrero, 14 Febrero al 18 Febrero, 20 Febrero al 24 Febrero</p>
                            <button class="btn-reservar" data-destino="Mar del Tuyu">
                                <i class="fab fa-whatsapp"></i>
                                Reservar este destino
                            </button>
                        </div>
                    </div>

                    <div class="destino-card">
                        <div class="destino-imagen">
                            <img src="Imagenes/San Bernardo.png" alt="San Bernardo">
                            <div class="destino-badge">
                                <i class="fas fa-calendar-alt"></i>
                                3 Fechas Disponibles
                            </div>
                        </div>
                        <div class="destino-contenido">
                            <h3 class="destino-titulo">San Bernardo</h3>
                            <p class="destino-descripcion"><strong>Fechas:</strong> 29 Enero al 01 Febrero, 14 Febrero al 18 Febrero, 20 Febrero al 24 Febrero</p>
                            <button class="btn-reservar" data-destino="San Bernardo">
                                <i class="fab fa-whatsapp"></i>
                                Reservar este destino
                            </button>
                        </div>
                    </div>

                    <div class="destino-card">
                        <div class="destino-imagen">
                            <img src="Imagenes/Santa Teresita.png" alt="Santa Teresita">
                            <div class="destino-badge">
                                <i class="fas fa-calendar-alt"></i>
                                3 Fechas Disponibles
                            </div>
                        </div>
                        <div class="destino-contenido">
                            <h3 class="destino-titulo">Santa Teresita</h3>
                            <p class="destino-descripcion"><strong>Fechas:</strong> 29 Enero al 01 Febrero, 14 Febrero al 18 Febrero, 20 Febrero al 24 Febrero</p>
                            <button class="btn-reservar" data-destino="Santa Teresita">
                                <i class="fab fa-whatsapp"></i>
                                Reservar este destino
                            </button>
                        </div>
                    </div>

                    <div class="destino-card">
                        <div class="destino-imagen">
                            <img src="Imagenes/Mar de ajó.webp" alt="Mar de Ajó">
                            <div class="destino-badge">
                                <i class="fas fa-calendar-alt"></i>
                                3 Fechas Disponibles
                            </div>
                        </div>
                        <div class="destino-contenido">
                            <h3 class="destino-titulo">Mar de Ajó</h3>
                            <p class="destino-descripcion"><strong>Fechas:</strong> 29 Enero al 01 Febrero, 14 Febrero al 18 Febrero, 20 Febrero al 24 Febrero</p>
                            <button class="btn-reservar" data-destino="Mar de Ajó">
                                <i class="fab fa-whatsapp"></i>
                                Reservar este destino
                            </button>
                        </div>
                    </div>
                </div>
            </section>

            <section id="contacto" class="seccion fade-in">
                <div class="seccion-header">
                    <h1 class="seccion-titulo">Contacto</h1>
                    <div class="seccion-linea"></div>
                </div>
                
                <p class="texto-descripcion">¡Estamos aquí para ayudarte! Contáctanos por cualquiera de estos medios:</p>
                
                <div class="contacto-contenedor">
                    <div class="contacto-item">
                        <div class="contacto-icono">
                            <i class="fab fa-facebook-f"></i>
                        </div>
                        <div class="contacto-info">
                            <h4>Facebook</h4>
                            <a href="https://www.facebook.com/jose.luis.gonzalez.711263" target="_blank" class="contacto-link">
                                Fran & Rom / González José Luis
                                <i class="fas fa-external-link-alt"></i>
                            </a>
                        </div>
                    </div>
                    
                    <div class="contacto-item">
                        <div class="contacto-icono whatsapp-icon">
                            <i class="fab fa-whatsapp"></i>
                        </div>
                        <div class="contacto-info">
                            <h4>WhatsApp 1</h4>
                            <a href="https://wa.me/5491132587520?text=Hola%20Fran%20%26%20Rom,%20quiero%20hacer%20una%20consulta" target="_blank" class="contacto-link">
                                +54 9 11 3258-7520
                                <i class="fas fa-external-link-alt"></i>
                            </a>
                        </div>
                    </div>
                    
                    <div class="contacto-item">
                        <div class="contacto-icono whatsapp-icon">
                            <i class="fab fa-whatsapp"></i>
                        </div>
                        <div class="contacto-info">
                            <h4>WhatsApp 2</h4>
                            <a href="https://wa.me/5491166099970?text=Hola%20Fran%20%26%20Rom,%20quiero%20hacer%20una%20consulta" target="_blank" class="contacto-link">
                                +54 9 11 6609-9970
                                <i class="fas fa-external-link-alt"></i>
                            </a>
                        </div>
                    </div>
                </div>
                
                <div class="contacto-horario">
                    <h4>
                        <i class="far fa-clock"></i>
                        Horario de Atención
                    </h4>
                    <p>Lunes a Viernes: 9:00 - 20:00 hs</p>
                    <p>Sábados: 9:00 - 14:00 hs</p>
                </div>
            </section>
        </div>
    </main>

    <section id="comentarios" class="seccion fade-in">   
        <div class="seccion-header">
            <h1 class="seccion-titulo">Opiniones de Nuestros Viajeros</h1>
            <div class="seccion-linea"></div>
        </div>

        <!-- Formulario -->
        <form id="formComentario"
            class="comentarios-form"
            name="comentarios"
            method="POST"
            action="/"
            data-netlify="true"
            netlify-honeypot="bot-field">

            <input type="hidden" name="form-name" value="comentarios">
            <p hidden>
                <input name="bot-field">
            </p>

            <input type="text" id="nombre" name="nombre" placeholder="Tu nombre" required>

            <select id="valoracion" name="valoracion" required>
                <option value="">Calificación</option>
                <option value="5">⭐⭐⭐⭐⭐ Excelente</option>
                <option value="4">⭐⭐⭐⭐ Muy bueno</option>
                <option value="3">⭐⭐⭐ Regular</option>
                <option value="2">⭐⭐ Malo</option>
                <option value="1">⭐ Muy malo</option>
            </select>

            <textarea id="comentario"
                        name="comentario"
                        placeholder="Escribí tu comentario..."
                        required></textarea>

            <button type="submit" class="btn-hero">Enviar comentario</button>
        </form>

        <!-- Filtros -->
        <div class="comentarios-filtros">
            <button data-filtro="todos" class="filtro-btn activo">Todos</button>
            <button data-filtro="buenos" class="filtro-btn">Buenos</button>
            <button data-filtro="malos" class="filtro-btn">Malos</button>
        </div>

        <!-- Contenedor donde se mostrarán los comentarios -->
        <div id="comentarios-container">
            <div id="lista-comentarios" class="comentarios-lista">
                <!-- Los comentarios se cargarán aquí automáticamente -->
            </div>
        </div>

        <!-- Script para cargar y mostrar comentarios -->
        <script>
        // Función para cargar comentarios desde Netlify Function
        async function cargarComentarios() {
            try {
                const listaComentarios = document.getElementById('lista-comentarios');
                
                // Mostrar cargando
                listaComentarios.innerHTML = '<div class="cargando"><i class="fas fa-spinner fa-spin"></i> Cargando comentarios...</div>';
                
                const respuesta = await fetch('/.netlify/functions/ObtenerComentarios');
                
                if (!respuesta.ok) {
                    throw new Error('Error al cargar comentarios');
                }
                
                const comentarios = await respuesta.json();
                mostrarComentarios(comentarios);
                
            } catch (error) {
                console.error('Error:', error);
                document.getElementById('lista-comentarios').innerHTML = 
                    '<div class="error-comentario"><i class="fas fa-exclamation-triangle"></i> Error cargando comentarios. Intenta recargar la página.</div>';
            }
        }

        // Función para mostrar los comentarios en la página
        function mostrarComentarios(comentarios, filtro = 'todos') {
            const contenedor = document.getElementById('lista-comentarios');
            
            if (!comentarios || comentarios.length === 0) {
                contenedor.innerHTML = '<div class="sin-comentarios"><i class="far fa-comment"></i> Sé el primero en comentar!</div>';
                return;
            }
            
            // Filtrar comentarios si es necesario
            let comentariosFiltrados = comentarios;
            if (filtro === 'buenos') {
                comentariosFiltrados = comentarios.filter(c => c.clasificacion === 'bueno');
            } else if (filtro === 'malos') {
                comentariosFiltrados = comentarios.filter(c => c.clasificacion === 'malo');
            }
            
            if (comentariosFiltrados.length === 0) {
                contenedor.innerHTML = `<div class="sin-comentarios"><i class="far fa-comment"></i> No hay comentarios ${filtro === 'todos' ? '' : filtro}</div>`;
                return;
            }
            
            let html = '';
            
            comentariosFiltrados.forEach(comentario => {
                // Formatear fecha
                const fecha = new Date(comentario.fecha);
                const fechaFormateada = fecha.toLocaleDateString('es-ES', {
                    day: '2-digit',
                    month: '2-digit',
                    year: 'numeric',
                    hour: '2-digit',
                    minute: '2-digit'
                });
                
                // Crear estrellas según valoración
                let estrellas = '';
                for (let i = 1; i <= 5; i++) {
                    if (i <= comentario.valoracion) {
                        estrellas += '⭐';
                    } else {
                        estrellas += '☆';
                    }
                }
                
                // Determinar clase CSS según clasificación
                let claseCss = 'comentario-card';
                if (comentario.clasificacion === 'bueno') {
                    claseCss += ' comentario-bueno';
                } else if (comentario.clasificacion === 'malo') {
                    claseCss += ' comentario-malo';
                }
                
                html += `
                    <div class="${claseCss}">
                        <div class="comentario-header">
                            <div class="comentario-autor">
                                <i class="fas fa-user"></i>
                                <strong>${comentario.nombre}</strong>
                            </div>
                            <div class="comentario-fecha">
                                <i class="far fa-clock"></i>
                                ${fechaFormateada}
                            </div>
                        </div>
                        <div class="comentario-estrellas">
                            ${estrellas}
                            <span class="comentario-valoracion">(${comentario.valoracion}/5)</span>
                        </div>
                        <div class="comentario-texto">
                            <i class="fas fa-quote-left"></i>
                            ${comentario.comentario}
                            <i class="fas fa-quote-right"></i>
                        </div>
                        <div class="comentario-clasificacion">
                            <span class="badge ${comentario.clasificacion}">
                                <i class="fas fa-${comentario.clasificacion === 'bueno' ? 'thumbs-up' : 'thumbs-down'}"></i>
                                ${comentario.clasificacion === 'bueno' ? 'Positivo' : 'Crítico'}
                            </span>
                        </div>
                    </div>
                `;
            });
            
            contenedor.innerHTML = html;
        }

        // Manejar filtros
        document.addEventListener('DOMContentLoaded', function() {
            const filtroBtns = document.querySelectorAll('.filtro-btn');
            
            filtroBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    // Remover clase activa de todos
                    filtroBtns.forEach(b => b.classList.remove('activo'));
                    // Agregar clase activa al botón clickeado
                    this.classList.add('activo');
                    
                    // Recargar comentarios con el filtro seleccionado
                    const filtro = this.getAttribute('data-filtro');
                    cargarComentarios().then(() => {
                        // Después de cargar, aplicar filtro
                        fetch('/.netlify/functions/ObtenerComentarios')
                            .then(res => res.json())
                            .then(comentarios => mostrarComentarios(comentarios, filtro));
                    });
                });
            });
            
            // Cargar comentarios cuando la página se carga
            cargarComentarios();
            
            // Recargar comentarios cada 60 segundos
            setInterval(cargarComentarios, 60000);
            
            // Cuando se envía el formulario, recargar comentarios después de 2 segundos
            const formulario = document.getElementById('formComentario');
            if (formulario) {
                formulario.addEventListener('submit', function() {
                    setTimeout(cargarComentarios, 2000);
                });
            }
        });
        </script>
        <script>
        // Manejar el envío del formulario
        document.getElementById('formComentario').addEventListener('submit', async function(e) {
            // No prevenir el comportamiento por defecto - Netlify lo maneja
            console.log('Formulario enviado a Netlify Forms');
            
            // Mostrar mensaje al usuario
            const submitBtn = this.querySelector('button[type="submit"]');
            const originalText = submitBtn.innerHTML;
            submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Enviando...';
            submitBtn.disabled = true;
            
            // La función de Netlify se ejecutará automáticamente
            // Netlify Forms redirigirá a la página de éxito
        });
        </script>
    </section>


    <footer class="pie-pagina">
        <div class="container">
            <div class="footer-contenido">
                <div class="footer-logo">
                    <img src="Imagenes/Logo.jpeg" alt="Logo Fran & Rom" class="footer-logo-img">
                    <p class="footer-slogan">Tu viaje perfecto comienza aquí</p>
                </div>
                
                <div class="footer-enlaces">
                    <h4>Enlaces Rápidos</h4>
                    <a href="#inicio">Inicio</a>
                    <a href="#servicios">Servicios</a>
                    <a href="#contacto">Contacto</a>
                </div>
                
                <div class="footer-redes">
                    <h4>Síguenos</h4>
                    <div class="redes-iconos">
                        <a href="https://www.facebook.com/jose.luis.gonzalez.711263" target="_blank" class="redes-link">
                            <i class="fab fa-facebook-f"></i>
                        </a>
                        <a href="https://wa.me/5491132587520" target="_blank" class="redes-link">
                            <i class="fab fa-whatsapp"></i>
                        </a>
                    </div>
                </div>
            </div>
            
            <div class="footer-copyright">
                <p>&copy; 2025 Fran & Rom - Todos los derechos reservados</p>
                <p class="footer-creditos">Diseñado con <i class="fas fa-heart"></i> para viajeros</p>
            </div>
        </div>
    </footer>

    <a href="#" class="floating-btn" id="backToTop">
        <i class="fas fa-chevron-up"></i>
    </a>
    
    <!-- Modal de confirmación -->
    <div class="modal" id="reservaModal">
        <div class="modal-contenido">
            <span class="modal-cerrar" id="modalCerrar">&times;</span>
            <h3 class="modal-titulo">Reservar Destino</h3>
            <p id="modalDestino"></p>
            <div class="modal-acciones">
                <button class="btn-modal btn-cancelar" id="modalCancelar">Cancelar</button>
                <button class="btn-modal btn-confirmar" id="modalConfirmar">
                    <i class="fab fa-whatsapp"></i>
                    Contactar por WhatsApp
                </button>
            </div>
        </div>
    </div>

    <script src="scripts.js"></script>
</body>
</html>